<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>09-手风琴</title>
<style>
*{margin:0;padding:0;}
body{font-size:12px;}
#accordion{width:727px; height:350px; margin:100px auto 0 auto; position:relative; overflow:hidden; border:1px solid #CCC;}
#accordion ul{list-style:none;}
#accordion ul li{width:643px;height:350px; position:absolute; background:#FFF;}
#accordion ul li span{display:block;width:20px; height:350px; float:left; text-align:center; color:#FFF; padding-top:5px; cursor:pointer;}
#accordion ul li img{display:block; float:right;}
.bar01{left:0px;}
.bar02{left:643px;}
.bar03{left:664px;}
.bar04{left:685px;}
.bar05{left:706px;}
.bar01 span{background:#09E0B5;}
.bar02 span{background:#3D7FBB;}
.bar03 span{background:#5CA716;}
.bar04 span{background:#F28B24;}
.bar05 span{background:#7C0070;}
</style>
<script src="js/jquery-1.12.4.min.js"></script>
<script>
    $(function () {
        // 获取所有li标签
        var $lis = $('#accordion li');

        $lis.click(function () {
            // 1.点击谁让谁移动到左边
            $(this).animate({'left':21 * $(this).index()});

            // 2.让点击的li标签前面的所有li标签也移动到左边
            $(this).prevAll().each(function () {
                // 下面这个this和上面这相this不是同一个了,上面的时点击的那个标签,
                // each里面的this表示当前遍历出来的那个标签
                $(this).animate({'left':21 * $(this).index()});
            })

            // 索0
            // 标签索引1    727 - 4 * 21
            //      索引2     727 - 3  *21
            //      索引3     727 - 2  *21
            //      索引4     727 - 1  *21
            // 727 - (5 - 2) * 21
            // 3.点击那个li标签就让那个li标签后面的所有li标签回到右边
            $(this).nextAll.each(function () {
                $(this).animate({'left':727 - ($lis.length - $(this).index()) * 21});
            })
        })

    })
</script>


<title>手风琴效果</title>
</head>

<body>
<div id="accordion">
	<ul>
	<li class="bar01"><span>非洲景色01</span><img src="images/001.jpg" /></li>
    <li class="bar02"><span>非洲景色02</span><img src="images/002.jpg" /></li>
    <li class="bar03"><span>非洲景色03</span><img src="images/003.jpg" /></li>
    <li class="bar04"><span>非洲景色04</span><img src="images/004.jpg" /></li>
    <li class="bar05"><span>非洲景色05</span><img src="images/005.jpg" /></li>
	</ul>
</div>
</body>
</html>
